var A=Object.defineProperty,k=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var h=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&h(e,n,t[n]);if(f)for(var n of f(t))R.call(t,n)&&h(e,n,t[n]);return e},d=(e,t)=>k(e,L(t));import{a as O,r as a,v as C,j as s,b as y,H as S,c as P,R as B,d as j,F as D,u as T,e as z,T as m,C as _,f as F,g as V}from"./vendor.3311845d.js";const N=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};N();const u=O.create({baseURL:"https://it-blacklist-a6de4b.service.tcloudbase.com/",timeout:2e4,validateStatus:function(e){return e>=200&&e<300}});u.interceptors.request.use(e=>e);u.interceptors.response.use(e=>{var n;const t=e.data;return(n=t.data)!=null?n:t});async function oe(e){return u({method:"post",url:"/api/list/get",data:e})}async function se(e){return u({method:"post",url:"/api/list/update",data:e})}async function re(){return u({method:"post",url:"/api/list/count"})}async function ae(e){return u({method:"post",url:"/api/discuss/get",data:e})}async function ie(e){return u({method:"post",url:"/api/discuss/update",data:e})}async function ce(e){return u({method:"post",url:"/api/feedback/update",data:e})}async function $(){return u({method:"post",url:"/api/system/get"})}const G="modulepreload",v={},q="/",l=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${q}${r}`,r in v)return;v[r]=!0;const o=r.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":G,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((b,x)=>{c.addEventListener("load",b),c.addEventListener("error",x)})})).then(()=>t())},w=a.exports.lazy(()=>l(()=>import("./index.627200fd.js"),["assets/index.627200fd.js","assets/index.31b601e2.css","assets/vendor.3311845d.js","assets/vendor.b9464c52.css","assets/index.19526aae.js","assets/github.a95c0687.js"])),H=a.exports.lazy(()=>l(()=>import("./index.c0834b81.js"),["assets/index.c0834b81.js","assets/index.31b601e2.css","assets/vendor.3311845d.js","assets/vendor.b9464c52.css","assets/index.19526aae.js"])),U=a.exports.lazy(()=>l(()=>import("./index.6acbf38f.js"),["assets/index.6acbf38f.js","assets/index.2990883b.css","assets/vendor.3311845d.js","assets/vendor.b9464c52.css","assets/index.cfd1c31c.js"])),J=a.exports.lazy(()=>l(()=>import("./index.5dc61fcb.js"),["assets/index.5dc61fcb.js","assets/index.2990883b.css","assets/vendor.3311845d.js","assets/vendor.b9464c52.css","assets/index.cfd1c31c.js","assets/github.a95c0687.js"])),K=a.exports.lazy(()=>l(()=>import("./index.6b40be85.js"),["assets/index.6b40be85.js","assets/index.6ad2d6ff.css","assets/vendor.3311845d.js","assets/vendor.b9464c52.css"])),M=a.exports.lazy(()=>l(()=>import("./index.381e4f4f.js"),["assets/index.381e4f4f.js","assets/vendor.3311845d.js","assets/vendor.b9464c52.css"])),W=a.exports.lazy(()=>l(()=>import("./index.377d670a.js"),["assets/index.377d670a.js","assets/vendor.3311845d.js","assets/vendor.b9464c52.css"])),Q=a.exports.lazy(()=>l(()=>import("./index.577d6252.js"),["assets/index.577d6252.js","assets/vendor.3311845d.js","assets/vendor.b9464c52.css","assets/index.cfd1c31c.js"])),X=[{path:"/",key:"home",component:w},{path:"/uni",key:"uni",component:H},{path:"/uni-content",key:"uni-content",component:U},{path:"/content",key:"content",component:J},{path:"/statement",key:"statement",component:K},{path:"/create",key:"create",component:M},{path:"/feedback",key:"feedback",component:W},{path:"/go-github",key:"go-github",component:Q}],g={userInfo:null,cityList:[{value:"\u6CB3\u5317\u7701",label:"\u6CB3\u5317\u7701",children:[{value:"\u77F3\u5BB6\u5E84",label:"\u77F3\u5BB6\u5E84\u5E02"}]},{value:"\u5317\u4EAC\u5E02",label:"\u5317\u4EAC\u5E02",children:[{value:"\u5317\u4EAC",label:"\u5E02\u8F96\u533A"}]}],noticeBar:null},E=(e,t)=>{switch(t.type){case"userInfo/update":return console.log(t,e),localStorage.setItem("$it-blacklist",JSON.stringify(t.payload)),d(p({},e),{userInfo:t.payload});case"noticeBar/update":return console.log(t,e),d(p({},e),{noticeBar:t.payload});default:return e}},Y=a.exports.createContext({state:g,dispatch:E}),Z=()=>{const e=T(),t=z(),[n,r]=a.exports.useState("/");return a.exports.useEffect(()=>{r(t.pathname)},[t.pathname]),["/","/uni"].includes(t.pathname)?y(m,{activeKey:n,onChange:o=>e(o),children:[s(m.Item,{icon:s(_,{})},"/"),s(m.Item,{icon:s(_,{})},"/uni")]}):null},ee=()=>{const[e,t]=a.exports.useReducer(E,g);return a.exports.useEffect(()=>{const n=localStorage.getItem("$it-blacklist"),r=n?JSON.parse(n):{openid:C()};t({type:"userInfo/update",payload:r}),$().then(o=>{t({type:"noticeBar/update",payload:o[0].notice})})},[]),s("div",{className:"app",children:s(Y.Provider,{value:{state:e,dispatch:t},children:y(S,{children:[s(P.exports.AliveScope,{children:s(B,{children:X.map(n=>s(j,{path:n.path,element:s(a.exports.Suspense,{fallback:s(D,{children:"..."}),children:s(n.component,{})})},n.key))})}),s(Z,{})]})})})};F.render(s(V.StrictMode,{children:s(ee,{})}),document.getElementById("root"));export{Y as G,ae as a,se as b,ce as c,oe as g,re as l,u as r,ie as u};
