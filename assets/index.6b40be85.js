var A=Object.defineProperty,b=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var B=(s,e,t)=>e in s?A(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))S.call(e,t)&&B(s,t,e[t]);if(m)for(var t of m(e))L.call(e,t)&&B(s,t,e[t]);return s},g=(s,e)=>b(s,k(e));import{r as o,u as v,b as i,j as n,t as j,w as z,M as w,h,y as M,x as I,D as F,F as N,G as T,L as Y,B as G,J as H,K as c,z as q}from"./vendor.3311845d.js";import{G as J,a as K,u as $}from"./index.c1313823.js";const O="_page_statement_kuwg2_1",P="_discuss_title_kuwg2_1";var f={page_statement:O,discuss_title:P};const V=()=>{const{state:s}=o.exports.useContext(J),e=v(),t=s.noticeBar||{},[D,x]=o.exports.useState([]),[C,r]=o.exports.useState(!1),[l,E]=o.exports.useState(!1),d=u=>{K({company:u,current:1,pageSize:100}).then(a=>{x(a),console.log(a)})},_=u=>{if(!l){c.alert({content:"\u8BF7\u5148\u52FE\u9009\u534F\u8BAE",onConfirm:()=>{}});return}q.confirm({content:"\u786E\u8BA4\u8981\u63D0\u4EA4\u5417\uFF1F",onConfirm:()=>{r(!0),$(g(p({},u),{userInfo:s.userInfo,company:t.title})).then(a=>{console.log(a),(a==null?void 0:a.errcode)?c.alert({content:"\u5185\u5BB9\u53EF\u80FD\u542B\u6709\u8FDD\u6CD5\u8FDD\u89C4\u5185\u5BB9",onConfirm:()=>{}}):c.alert({content:"\u4FDD\u5B58\u6210\u529F",onConfirm:()=>{d(t.title)}})}).finally(()=>{r(!1)})}})};o.exports.useEffect(()=>{t.title&&d(t.title)},[t.title]);const y=()=>{e("/")};return t?i("div",{className:f.page_statement,children:[n(j,{onBack:y}),n(z,{title:t.title,bodyStyle:{fontSize:18},children:t.content}),i("div",{className:f.discuss_title,children:[n(w,{}),"\u7CBE\u9009\u8BC4\u8BBA"]}),n(h,{children:D.map(u=>n(h.Item,{children:n("div",{onClick:()=>M.show(`\u53D1\u8868\u65F6\u95F4:${I(u.createTime).format("YYYY-MM-DD HH:mm:ss")}`),children:u.content})},u._id))}),n(F,{style:{marginTop:20},layout:"horizontal",footer:i(N,{children:[i(T,{checked:l,onChange:u=>E(u),style:{"--icon-size":"18px","--font-size":"14px","--gap":"6px",marginBottom:8},children:["\u52FE\u9009\u4EE3\u8868\u5DF2\u9605\u8BFB\u5E76\u540C\u610F",n(Y,{to:"/statement",children:"\u76F8\u5173\u6761\u6B3E"})]}),n(G,{block:!0,type:"submit",color:"primary",loading:C,children:"\u63D0\u4EA4"})]}),onFinish:u=>{_(u)},children:n(F.Item,{name:"content",rules:[{required:!0,message:"\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"}],children:n(H,{placeholder:"\u6211\u8981\u8BC4\u8BBA\u2026",maxLength:2e3,rows:4})})})]}):null};export{V as default};
