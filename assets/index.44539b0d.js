var p=Object.defineProperty,g=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var d=(e,u,t)=>u in e?p(e,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[u]=t,E=(e,u)=>{for(var t in u||(u={}))x.call(u,t)&&d(e,t,u[t]);if(m)for(var t of m(u))A.call(u,t)&&d(e,t,u[t]);return e},C=(e,u)=>g(e,b(u));import{r as a,u as y,b as i,z as r,F as k,G as L,j as n,L as j,B as I,J as S,K as z,O as q,D as l,y as v}from"./vendor.0593cd1e.js";import{G,u as P}from"./index.8cb7f1d3.js";const K=()=>{const{state:e}=a.exports.useContext(G),[u,t]=a.exports.useState(!1),[f,c]=a.exports.useState(!1),[F,B]=a.exports.useState(!1),D=y(),h=o=>{if(!F){l.alert({content:"\u8BF7\u5148\u52FE\u9009\u534F\u8BAE",onConfirm:()=>{}});return}v.confirm({content:"\u786E\u8BA4\u8981\u63D0\u4EA4\u5417\uFF1F",onConfirm:()=>{c(!0),P(C(E({},o),{city:o.city[1],userInfo:e.userInfo})).then(s=>{console.log(s),(s==null?void 0:s.errcode)?l.alert({content:"\u5185\u5BB9\u53EF\u80FD\u542B\u6709\u8FDD\u6CD5\u8FDD\u89C4\u5185\u5BB9",onConfirm:()=>{}}):l.alert({content:"\u4FDD\u5B58\u6210\u529F",onConfirm:()=>{D(-1)}})}).finally(()=>{c(!1)})}})};return console.log(e),i(r,{layout:"horizontal",footer:i(k,{children:[i(L,{checked:F,onChange:o=>B(o),style:{"--icon-size":"18px","--font-size":"14px","--gap":"6px",marginBottom:8},children:["\u52FE\u9009\u4EE3\u8868\u5DF2\u9605\u8BFB\u5E76\u540C\u610F",n(j,{to:"/statement",children:"\u76F8\u5173\u6761\u6B3E"})]}),n(I,{block:!0,type:"submit",color:"primary",loading:f,children:"\u63D0\u4EA4"})]}),onFinish:o=>{h(o)},children:[n(r.Item,{name:"company",label:"\u516C\u53F8\u540D\u79F0",rules:[{required:!0,message:"\u516C\u53F8\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:n(S,{placeholder:"\u8BF7\u8F93\u5165\u516C\u53F8\u540D\u79F0"})}),n(r.Item,{name:"city",label:"\u57CE\u5E02",rules:[{required:!0,message:"\u57CE\u5E02\u4E0D\u80FD\u4E3A\u7A7A"}],trigger:"onConfirm",onClick:()=>{t(!0)},children:n(z,{title:"\u57CE\u5E02\u9009\u62E9",options:e.cityList,visible:u,onClose:()=>{t(!1)},children:o=>o.length?o.map(s=>s.label).join("/"):"\u8BF7\u9009\u62E9\u57CE\u5E02"})}),n(r.Item,{name:"content",rules:[{required:!0,message:"\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"}],children:n(q,{placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",maxLength:2e3,rows:4})})]})};export{K as default};
